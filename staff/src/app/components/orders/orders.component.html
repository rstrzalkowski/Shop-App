<div class="table-responsive col-lg-8 mx-auto card mt-sm-3">
  <div class="card-header text-center h3">
    <span class="text-decoration-none" routerLink="/orders">Orders </span><span *ngIf="state != ''"> > {{state}}</span>
  </div>
  <div *ngIf="orders.length" class="table-responsive">
    <table class="table table-striped table-bordered text-center mb-0">
      <thead class="thead-dark">
      <!--      <tr class="align-content-center align-middle text-center">-->
      <!--        <th id='nameHead' scope="col" (click)="sort('name', nameOrder); activate('nameHead');">Name</th>-->
      <!--        <th scope="col">Description</th>-->
      <!--        <th id='priceHead' scope="col" (click)="sort('price', priceOrder); activate('priceHead');">Price (PLN)</th>-->
      <!--        <th scope="col">Add to cart</th>-->
      <!--      </tr>-->
      <tr class="align-content-center align-middle text-center">
        <th>Confirmation Date</th>
        <th>State</th>
        <th>Total (PLN)</th>
        <th>Products</th>
        <th>Action</th>
      </tr>
      </thead>

      <tbody>
      <tr *ngFor="let order of orders">
        <td>{{order.confirmationDate || "None"}}</td>
        <td>{{order.state.name}}</td>
        <td>{{getTotal(order)}}</td>
        <td>
          <ul style="text-align: left">
            <li *ngFor="let productEntry of order.products">
              <span>{{productEntry.product.name}} - {{productEntry.product.quantity}}</span>
            </li>
          </ul>
        </td>

        <td>
          <button
            [ngClass]="{disabled: (order.state.name === 'CONFIRMED' || order.state.name === 'CANCELLED' || order.state.name === 'DONE')}"
            class="btn btn-primary col-12 col-md-9 col-xxl-7 mb-2" (click)="confirmOrder(order.id)">Confirm
          </button>
          <button
            [ngClass]="{disabled: (order.state.name === 'CONFIRMED' || order.state.name === 'CANCELLED' || order.state.name === 'DONE')}"
            class="btn btn-danger col-12 col-md-9 col-xxl-7 mb-2" (click)="cancelOrder(order.id)">Cancel
          </button>
          <button
            [ngClass]="{disabled: (order.state.name === 'UNCONFIRMED' || order.state.name === 'CANCELLED' || order.state.name === 'DONE')}"
            class="btn btn-success col-12 col-md-9 col-xxl-7 mb-2" (click)="markOrderAsDone(order.id)">Done
          </button>
      </tr>
      </tbody>

    </table>
  </div>
</div>
